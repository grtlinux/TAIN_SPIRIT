------------------------------------------------------------------------------------------------------------------
[ 작업환경 - 1 ]


DOS >dir
 N 드라이브의 볼륨: SSD250_DAT
 볼륨 일련 번호: 9EC6-0A67

 N:\WORK\workspaceluna7_git_deploy1\RunJar\libs\tain-runjar-1.0 디렉터리

2016-03-28  오후 03:13    <DIR>          .
2016-03-28  오후 03:13    <DIR>          ..
2016-03-28  오후 03:13    <DIR>          lib1
2016-03-28  오후 03:13    <DIR>          lib2
2016-03-28  오후 03:12    <DIR>          lib3
2016-03-17  오후 05:38             4,886 log4j.properties
2016-03-28  오후 03:15               122 manifest.txt
2016-03-28  오후 02:49    <DIR>          tain
               2개 파일               5,008 바이트
               6개 디렉터리  68,274,221,056 바이트 남음

------------------------------------------------------------------------------------------------------------------
[ 작업환경 - 2 ]

DOS >tree /f
SSD250_DAT 볼륨에 대한 폴더 경로의 목록입니다.
볼륨 일련 번호는 9EC6-0A67입니다.
N:.
│  log4j.properties
│  manifest.txt
│
├─lib1
│      ant.jar
│
├─lib2
│      commons-net-3.3.jar
│
├─lib3
│      log4j-1.2.17.jar
│
└─tain
    └─kr
        ├─common
        │      Version$1.class
        │      Version.class
        │      Version.properties
        │
        ├─main
        │      Main$1.class
        │      Main.class
        │      Main.properties
        │
        └─util
                CheckSystem$1.class
                CheckSystem.class
                CheckSystem.properties
                DateTime$1.class
                DateTime.class
                DateTime.properties


------------------------------------------------------------------------------------------------------------------
[ 작업환경 manifest.txt ]

DOS >type manifest.txt
Class-Path: .
  ./lib1
  ant.jar
  ./lib2
  commons-net-3.3.jar
  ./lib3
  log4j-1.2.17.jar
Main-Class: tain.kr.main.Main


------------------------------------------------------------------------------------------------------------------
[ Runnable JAR 생성 ]

DOS > jar cvmf manifest.txt ..\tain-runjar-1.0.jar *
DOS > jar cvMf ..\tain-runjar-1.0.jar *


------------------------------------------------------------------------------------------------------------------
[ Runnable JAR 실행 ]

DOS > cd ..
DOS > java -jar tain-runjar-1.0.jar

[2016-03-28 15:15:23,958] DEBUG tain.kr.main.Main.main(Main.java:91) - >>>>> tain.kr.main.Main
[2016-03-28 15:15:23,974] INFO  tain.kr.common.Version.print(Version.java:74) - desc > Version description
[2016-03-28 15:15:23,974] INFO  tain.kr.common.Version.print(Version.java:75) - version > ver 1.0.0
[2016-03-28 15:15:23,974] INFO  tain.kr.util.CheckSystem.print(CheckSystem.java:130) - info > Windows System
[2016-03-28 15:15:23,974] INFO  tain.kr.util.DateTime.print(DateTime.java:79) - info > 2016/03/28 15:15:23.974
[2016-03-28 15:15:23,989] DEBUG tain.kr.main.Main.test01(Main.java:85) - main > Run Jar test program..




------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------

do the batch file job.bat

------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------

N:\WORK\workspaceluna7_git_deploy1\RunJar\job\tain-runjar-1.0>tree /f
SSD250_DAT 볼륨에 대한 폴더 경로의 목록입니다.
볼륨 일련 번호는 9EC6-0A67입니다.
N:.
│  log4j.properties
│
├─lib1
│      ant.jar
│
├─lib2
│      commons-net-3.3.jar
│
├─lib3
│      log4j-1.2.17.jar
│
├─META-INF
│      MANIFEST.MF
│
├─org
│  └─eclipse
│      └─jdt
│          └─internal
│              └─jarinjarloader
│                      JarRsrcLoader$ManifestInfo.class
│                      JarRsrcLoader.class
│                      JIJConstants.class
│                      RsrcURLConnection.class
│                      RsrcURLStreamHandler.class
│                      RsrcURLStreamHandlerFactory.class
│
└─tain
    └─kr
        ├─common
        │      Version$1.class
        │      Version.class
        │      Version.properties
        │
        ├─main
        │      Main$1.class
        │      Main.class
        │      Main.properties
        │
        └─util
                CheckSystem$1.class
                CheckSystem.class
                CheckSystem.properties
                DateTime$1.class
                DateTime.class
                DateTime.properties

------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------

set JAVA_HOME=N:\PROG\jdk1.7.0_79
set PATH=%PATH%;%JAVA_HOME%\bin

set LIB_PATH=N:\WORK\workspaceluna7_git_deploy1\RunJar\libs

set JOB_NAME=tain-runjar-1.0

------------------------------------------------------------------------------------------------------------------

jar cvMf ..\tain-runjar-1.0.jar *

java -jar ../tain-runjar-1.0.jar

------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
[ META-INF/MANIFEST.MF ]

Manifest-Version: 1.0
Rsrc-Class-Path: ./ ant.jar commons-net-3.3.jar log4j-1.2.17.jar
Class-Path: .
Rsrc-Main-Class: tain.kr.main.Main
Main-Class: org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader

------------------------------------------------------------------------------------------------------------------

Manifest-Version: 1.0
Rsrc-Class-Path: ./ lib1/ant.jar lib2/commons-net-3.3.jar lib3/log4j-1.2.17.jar
Class-Path: .
Rsrc-Main-Class: tain.kr.main.Main
Main-Class: org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader

------------------------------------------------------------------------------------------------------------------

Manifest-Version: 1.0
Rsrc-Class-Path: ./
  lib1/ant.jar
  lib2/commons-net-3.3.jar
  lib3/log4j-1.2.17.jar
Class-Path: .
Rsrc-Main-Class: tain.kr.main.Main
Main-Class: org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader

------------------------------------------------------------------------------------------------------------------

Manifest-Version: 1.0
Rsrc-Class-Path: ./
  lib1/ant.jar
  lib2/commons-net-3.3.jar
  lib3/log4j-1.2.17.jar
Rsrc-Main-Class: tain.kr.main.Main
Main-Class: org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader

Main-Class: tain.kr.jar.JarRsrcLoader

------------------------------------------------------------------------------------------------------------------
[ manifest.txt | META-INF/MANIFEST.MF ]

Manifest-Version: 1.0
Rsrc-Class-Path: ./
  libs/ant.jar
  libs/commons-net-3.3.jar
  libs/log4j-1.2.17.jar
Rsrc-Main-Class: tain.kr.test.main.Main
Main-Class: tain.kr.jar.v02.JarRsrcLoader

------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------

jar cvMf ..\tain-runjar-1.0.jar * 

java -jar ..\tain-runjar-1.0.jar


------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------



우선 jar 파일이란 archive파일입니다. 즉 여러개의 파일을 하나의 파일로 묶는 jar명령을 사용하여 생성한
것인데요. 이 파일은 winzip에서 열어 볼 수 있으며, winzip에서 열어보면 여러개의 파일들이 디렉토리 정보를
가진채 들어 있습니다. (아무 jar파일을 직접 클릭해 열어 보시면 이해가 빠르실 겁니다.)
 
그리고 jar파일이 zip 파일과 다른 점은 압축되어 있을수도 있고, 그냥 하나로 묶어놓은 파일일 수 도 있다는
것인데요. 그래서 jar 파일을 archive파일이라 볼수 있다. 이렇게 archive파일로 묶는 이유는 자바로 개발한 여러 클래스 파일들 또는 패키지 파일이 있을때, 이를 하나로 묶어두면, 그 클래스들을 참조하기도 편하고, 다운 받기도 쉽기 때문입니다.(애플릿의 경우에 더욱 그러하구요.)
 
이런 jar 명령어를  사용하기 위해서는.. 아래 규칙을 알구 계셔야 하는데요..
(1) 명령구문 : jar {ctxu}[vfm0M] [jar-file] [manifest-file] [-C dir] files ...
(2) {ctxu} 중의 하나는 맨 앞에 나와야할 필수 옵션이다.
  : c  (새로운 archive파일을 생성한다)
  : t  list table of contents for archive 
  : x  (다음에 지정한 파일들을 archive파일로 부터 압축을 푼다)
  : u  (기존 archive파일에 들어있는 파일을 수정한다.)
(3) [vfm0M]은 {ctxu} 중의 하나다음에 오는 옵션이다.
  : v  (명령화면창으로 진행사항에 관한 메시지를 출력한다.) : 웬만하면 써주면...좋음..
  : f  (archive될 파일이름을 지정한다.) : 그래도 생성될 파일의 이름은 써줘야겠죠...?
  : m  (정보를 manifest파일로 부터 포함한다.)
  : 0  (저장만 하고, zip으로 압축하진 않는다.)
      -  클래스파일을 압축하면 곤란하죠...class파일의 경우는 꼭..써줘야죠..
  : M  (추가되는 엔트리에 대한 manifest 파일을 생성하지 않는다.)
(4) -C  (지정된 디렉토리로 바꾸고, 다음 파일을 포함한다.)
  : 어떤 파일이 디렉토리이면 순환되면서 처리된다.
(5) manifest file이름과 archive파일 이름은 순서대로 지정되어야 한다.
(6) manifest file : 뭐...대단한 파일인줄 알았는데, 열어보면 내용이 다음과 같습니다.
   <내용>
 Manifest-Version: 1.0
 Created-By: 1.2.2 (Sun Microsystems Inc.)
 

사용예에 대해서 살펴보면..
예) jar cvf new.jar 1.class 2.class
: c옵션이 사용되었으므로 일단은 1.class, 2.class를 묶으려고 시도할 것이다.
: v옵션이 사용되었으므로 진행상황 메시지가...줄줄 나올것이다. (이건 안해도 됨)
: f옵션은 c옵션사용시 생성될 파일명을 지정(반드시 해주어야 지정된 이름으로 파일이 생성)
예) jar cvf new.jar -C test/ .
: -C옵션을 주면 현 디렉토리 아래의 test디렉토리에 있는 모든 파일을 new.jar로 묶어준다.
예) jar cvf new.jar -C /test .
: 위의 것이랑 비슷하지만... test디렉토리 뿐 아니라 현디렉토리에 있는 파일도 new.jar
예) jar xf test.zip
: x옵션은 아카이브를 푼다는 의미, f는 아시죠...?
예) jar ufv0 new.jar test
: u옵션은 test디렉토리 밑의 파일들을 new.jar에 추가한다는 의미
: 0옵션은 압축하지 말고 추가하라는 의미(클래스 파일의 경우는 이 옵션을 써줘야함)
: f와 v는 아시겠죠...?
 
이해되셨길 바라겠습니다..^



------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------

